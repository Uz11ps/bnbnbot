{% extends "base.html" %}
{% block content %}
<div class="card p-3 mb-4 bg-dark text-white">
    <h5 class="mb-3">Добавить новую кнопку (модель)</h5>
    <form action="/models/add" method="post" class="row g-2">
        <div class="col-md-3">
            <select name="category" class="form-select form-select-sm" required>
                <option value="female">Female</option>
                <option value="male">Male</option>
                <option value="child">Child</option>
            </select>
        </div>
        <div class="col-md-3">
            <select name="cloth" class="form-select form-select-sm" required>
                <option value="coat">Верхняя одежда</option>
                <option value="dress">Платья</option>
                <option value="pants">Брюки/Шорты</option>
                <option value="top">Топы/Рубашки</option>
                <option value="suit">Костюмы</option>
                <option value="shoes">Обувь</option>
            </select>
        </div>
        <div class="col-md-3">
            <input type="text" name="name" class="form-control form-control-sm" placeholder="Название кнопки" required>
        </div>
        <div class="col-md-3">
            <select name="prompt_id" class="form-select form-select-sm" required>
                {% for p in prompts %}
                <option value="{{ p.id }}">{{ p.title }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-12 mt-2">
            <button type="submit" class="btn btn-primary btn-sm w-100">Добавить модель</button>
        </div>
    </form>
</div>

<h4 class="mb-3">Существующие кнопки</h4>
<div class="table-responsive bg-white rounded shadow-sm">
    <table class="table table-sm table-hover align-middle mb-0">
        <thead class="table-light">
            <tr>
                <th>Категория</th>
                <th>Тип</th>
                <th>Название</th>
                <th>Промпт</th>
                <th class="text-end">Удалить</th>
            </tr>
        </thead>
        <tbody>
            {% for m in models %}
            <tr>
                <td>{{ m.category }}</td>
                <td>{{ m.cloth }}</td>
                <td>{{ m.name }}</td>
                <td><small>{{ m.prompt_title }}</small></td>
                <td class="text-end">
                    <a href="/models/delete/{{ m.id }}" class="btn btn-sm btn-outline-danger" onclick="return confirm('Удалить эту кнопку?')"><i class="bi bi-trash"></i></a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
